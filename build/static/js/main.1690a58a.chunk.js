(this["webpackJsonpgalery-with-pixabay-api"]=this["webpackJsonpgalery-with-pixabay-api"]||[]).push([[0],[,function(e,t,a){e.exports={card:"Card_card__35wN0",slider:"Card_slider__3ZHeA",padding:"Card_padding__2oKA3",header:"Card_header__21_95",dark:"Card_dark__2SOzS",title:"Card_title__Ip0in",info:"Card_info__2y6Wt",description:"Card_description__33vK6",slideInfo:"Card_slideInfo__2LtFH",imagesWrapper:"Card_imagesWrapper__3Un2Q",imageLink:"Card_imageLink__1xuVJ",badge:"Card_badge__21uzr",contentWrapper:"Card_contentWrapper__2ihG_",circleWrapper:"Card_circleWrapper__8ixX_",circle:"Card_circle__13fGr",titleWrapper:"Card_titleWrapper__3Y5f-"}},,,,,function(e,t,a){e.exports={banner:"Banner_banner__Lcs5E",title:"Banner_title__3r7KR",description:"Banner_description__1Nczt"}},,,,,,function(e,t,a){e.exports={wrapper:"Wrapper_wrapper__2gcWR"}},,function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},function(e,t,a){e.exports={form:"FormSearch_form__2jriS"}},function(e,t,a){e.exports=a(24)},,,,,,,function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(8),c=a.n(i),o=a(10),l=a(4),s=a.n(l),u=a(9),p=a(7),d=a(6),m=a.n(d),f=function(e){var t=e.title,a=e.description;return r.a.createElement("div",{className:m.a.banner},r.a.createElement("h1",{className:m.a.title},t),r.a.createElement("p",{className:m.a.description},a))},h=a(12),g=a.n(h),v=function(e){var t=e.children;return r.a.createElement("div",{className:g.a.wrapper},t)},_=a(2),b=a(13),E=(a(22),function(e){return Object.keys(e).filter((function(t){return e[t]})).join(" ")}),w=a(1),y=a.n(w),j=a(14),O=a.n(j),C=function(e){var t,a,n,i=e.title,c=e.info,o=e.description,l=e.slider,s=e.photos,u=e.children,p=e.addPictureToFav;return r.a.createElement("div",{className:E((t={},Object(_.a)(t,y.a.card,!0),Object(_.a)(t,y.a.padding,!l),Object(_.a)(t,y.a.slider,!!l),t))},r.a.createElement("header",{className:E((a={},Object(_.a)(a,y.a.header,!0),Object(_.a)(a,y.a.dark,!!l),a))},r.a.createElement("div",{className:y.a.titleWrapper},l&&r.a.createElement("div",{className:y.a.circleWrapper},r.a.createElement("div",{className:y.a.circle})),r.a.createElement("h2",{className:y.a.title},i)),c&&r.a.createElement("p",{className:y.a.info},c)),r.a.createElement("div",{className:E(Object(_.a)({},y.a.contentWrapper,!!l))},o&&r.a.createElement("p",{className:E((n={},Object(_.a)(n,y.a.description,!l),Object(_.a)(n,y.a.slideInfo,!!l),n))},o),l&&s&&r.a.createElement("div",{className:y.a.imagesWrapper},s.map((function(e,t){return r.a.createElement("a",{className:y.a.imageLink,key:e.pageURL,onClick:function(){return function(e){p&&p({pageURL:e.pageURL,largeImageURL:e.largeImageURL,user:e.user,id:e.id})}(e)}},r.a.createElement(b.LazyLoadImage,{src:e.largeImageURL,alt:e.user,effect:"blur",placeholderSrc:O.a}),r.a.createElement("p",{className:y.a.badge},e.user))})))),u)},W=a(15),k=a.n(W),N=function(e){var t=e.handleSubmit,a=e.handleOnChange,n=e.value;return r.a.createElement("form",{className:k.a.form,onSubmit:t},r.a.createElement("input",{type:"text",value:n,onChange:a,placeholder:"Saisir une recherche..."}),r.a.createElement("button",{type:"submit"},"Chercher"))},S=function(){var e=Object(n.useState)("covid, silicon valley, computer"),t=Object(p.a)(e,2),a=t[0],i=t[1],c=Object(n.useState)([]),l=Object(p.a)(c,2),d=l[0],m=l[1],h=Object(n.useState)([]),g=Object(p.a)(h,2),_=g[0],b=g[1],E=function(e){var t=e.replace(/ /g,"+");return"https://pixabay.com/api/?key=".concat("18992981-a4be0aaec3c7abcbbb0667425","&image_type=").concat("photo","&q=").concat(t)},w=function(){var e=Object(u.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return a=e.sent,e.next=5,a.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(u.a)(s.a.mark((function e(){var t,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=a.split(",").filter((function(e){return""!==e&&" "!==e&&e})).map((function(e){return" "===e[0]?e.slice(1):e})),(n=t.map((function(e){return E(e)}))).length>0&&Promise.all(n.map((function(e){return w(e)}))).then((function(e){var a=e.map((function(e,a){return{title:t[a],photos:e.hits}}));j&&m(JSON.parse(j)),b(a)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=localStorage.getItem("favoris");Object(n.useEffect)((function(){y()}),[]);var O=function(e){var t=!0;d.find((function(a){a.id===e.id&&(t=!1)})),!0===t&&(m([].concat(Object(o.a)(d),[e])),localStorage.setItem("favoris",JSON.stringify([].concat(Object(o.a)(d),[e]))))};return r.a.createElement(r.a.Fragment,null,navigator.onLine?r.a.createElement("div",{style:{color:"green",fontWeight:"bold"}},"Vous \xeates en ligne"," "):r.a.createElement("div",{style:{color:"red",fontWeight:"bold"}},"Vous \xeates hors-ligne"),r.a.createElement(f,{title:"YnovGalery!",description:"Cette app utilise Pixabay API."}),r.a.createElement(C,{title:"Mode d'emploi?",description:'\ud83c\udf89 S\xe9parez par "," chaque recherche. Vous pouvez chercher plusieurs cat\xe9gories d`images en m\xeame temps. Exemple: "chiens, rose jaune, voiture rouge" \ud83c\udf89, Selectionnez une image pour afin de l`ajouter \xe0 vos favoris.'},r.a.createElement(N,{value:a,handleOnChange:function(e){i(e.target.value)},handleSubmit:function(e){e.preventDefault(),y()}})),r.a.createElement(v,null,d.length?r.a.createElement(C,{slider:!0,description:"Retrouvez ici les images que vous avez ajouter \xe0 vos favoris.",title:"FAVORIS",photos:d}):r.a.createElement(r.a.Fragment,null),_.map((function(e,t){return r.a.createElement(C,{key:t,slider:!0,title:e.title,photos:e.photos,addPictureToFav:O})}))))},x=function(){return r.a.createElement(S,null)},L=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function I(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}a(23);c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(x,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");L?(!function(e,t){fetch(e).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):I(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")}))):I(t,e)}))}}()}],[[16,1,2]]]);
//# sourceMappingURL=main.1690a58a.chunk.js.map